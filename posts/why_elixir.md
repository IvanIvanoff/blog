---
mage_path: why_elixir.jpg
created_at: 2017-02-14T21:46:23
tags:
  - elixir
  - introduction
  - erlang
  - beam
  - functional programming
---

# Защо да учим и използваме Elixir?

Но нека първо малко предистория.
### Erlang
Erlang е функционален език, разработен в средата на 80-те години от Ериксон, с цел писане на телеком програми. Въпреки, че мотивацията за създаването му  е водена от спецификата на сферата на телекомуникациите, Erlang не е специлизиран само за тази област. Eдна от по-рядко споменаваните причини<sup>[[1](https://www.erlang-factory.com/upload/presentations/416/MikeWilliams.pdf)]</sup>  за създаването му е желанието да се заменят използваните дотогава специализиран хардуер и софтуер (включително и операционна система). Erlang няма експлицитна поддръжка за програмиране на телефони или каквото и да е било друго телеком оборудване. Няма и изисквания за специален хардуер и операционна система. Вместо това езикът предлага решения за техническите изисквания и проблеми, срещани при създаването на подобен тип софтуер:
- Конкурентност
- Скалируемост
- Дистрибутираност      
- Толерантност към грешки
- Обновления без спиране на програмата
- Бързо отговаряне на всички заявки дори при високо натоварване


Всичко това се случва във време, когато интернет не е широко разпространен, и повечето програми работят на един компютър и без връзка с интернет. При този вид софтуер няма изисквания за дистрибутираност и хоризонална скалируемост. По това време персоналните компютри не са разполагали и с 2, 4 или  16 ядрени процесори - реално изискване софтуерът автоматично да започне да работи по-бързо при добавяне на още ядра не е съществувало. Директно следствие от това е дизайнът и предназначението на останалите програмни езици, както и езиците, базирани  на тях. 

### Къде е мястото на Erlang днес?
Добре де, но колко от нас пишат софтуер за телекоми или софтуер с подобни изисквания? Всъщност това са доста от нас. Изискванията към съвременните уеб приложения се припокриват напълно с изискванията, с които са се съборазили създателите на Erlang. Огромно предимството е да имаш език и платформа, които се изградени от основите си за задоволяването на тези изисквания, без нуждата от външни библиотеки.

![Ad-hoc Erlang implementation](https://raw.githubusercontent.com/IvanIvanoff/blog/master/assets/erlang_ad_hoc_implement.png)

Ако искате да разберете повече за гаранциите, които ни дава [BEAM](http://www.erlang-factory.com/upload/presentations/708/HitchhikersTouroftheBEAM.pdf)<sup>[3]</sup> - виртуалната машина върху която се изпълнява Erlang - то трябва да изгледате [ето тази презентация](https://www.youtube.com/watch?v=5SbWapbXhKo)<sup>[2]</sup>
### Elixir

Защо говорим толкова за Erlang в статия, която носи името **Защо да учим и използваме Elixir?**
![Best part of Elixir tweet](https://raw.githubusercontent.com/IvanIvanoff/blog/master/assets/elixir_most_important_part.png)

Elixir е функционален език. Разработката му започва през 2011 година, а версия 1.0 се появява през септември 2014г.

Elixir се изпълнява върху BEAM. Той може да използва всичко, написано на Erlang. И доста често го прави. Това ни дава възможността да съчетаваме нов и модерен език с библиотеки, издържали теста на времето. Извикването на Erlang код от Elixir не носи допълнително забавяне. 

Нека да разгледаме една малка част от нещата, заради които *ние* харесваме Elixir/Erlang:
- Функционален език - непроменими(immutable) и персистентни(persistant) структури от данни, pattern matching, функции от по-висок ред, композиция на функции.
- Баланс между чисти(pure) и нечисти функции. Тук някои от заклетите фенове на функционалното програмиране може да не се съгласят. Но някои неща трябва да бъдат пожертвани на олтара на продуктивността.
- Процеси на ниво език - звучи скучно (може би), но това е основата, на която се изгражда толкова известната конкурентност и дистрибутираност на Erlang/Elixir.
- OTP(Open Telecom Platfom) - това е платформа, която вече не се отнася за телекомите, но името е останало. OTP вече е много повече неща - Erlang и OTP са нещо цяло и неделимо.

Но за да се появи Elixir и да правим курс за него, а не за Erlang, то той трябва да поставя нещо ново на масата.
- Elixir е Erlang. Всичко, което е плюс на Erlang, е плюс и на Elixir.
- По-добри инструменти в сравнение с Erlang.
- Хубава документация. Създателят на езика твърди, че грешки в докуемтацията трябва да се третират като грешки в самата програма.
- Зад езика и неговата екосистема стоят опитни, отзивчиви и интелигентни хора.
- Удобен и красив синтаксис. Erlang има минималистичен синтаксис, дори прекалено. Това води до доста boilerplate и повторения в кода. Липсата на макроси подчертава този проблем. 
- Мощни макроси. За разлика от тези в С/С++, макросите в Elixir не работят върху стрингове, ами върху AST (Abstract Syntax Tree).
- Pipe оператор `|>`. С негова помощ кодът е безспорно по-красив, удобен, четим, лесен за писане и за променяне. Едно скрито предимство от това е невероятната консистентност, която той вкарва в стандартната библиотека на езика. За да e по-лесно използването на `|>`, то е прието функциите да приемат като първи аргумент данните, върху които работят. 



### Ами лошите страни на Erlang/Elixir?
За да не бъдат казано само суперлативи за езика е редно да споменем и някои от не толкова хубавите неща
- Липсата на достатъчно и развити библиотеки. Тъй като Elixir е нов език, а Erlang няма популярността на Java/Python/Ruby, то понякога ще се случва да няма библиотека, която очаквате. Понякога ще се случва да има единствено Erlang библиотека, която без проблеми може да използвате, но ще трябва да научите и малко Erlang ако искате да четете кода ѝ.
- Заблудата породена от изказвания на хора, незапознати с езика. Често срещано оплакване е, че синтаксисът около конкурентността не е толкова прост и минимален както в Go. Това е порено от фактът, че конкурентността в Elixir решава проблеми свързани с high availability, докато в Go се използва чисто и просто за паралелизъм. В Elixir паралелизмът не е бил движеща сила при взимането на дизайн решенията,а е следствие (при това доста успешно) от начина на имплементация


Ресурси:

[1] [The true story why Erlang was invented](https://www.erlang-factory.com/upload/presentations/416/MikeWilliams.pdf)

[2] [Solid ground by Saša Jurić](https://www.youtube.com/watch?v=5SbWapbXhKo)

[3] [Hitchhiker's Tour of the BEAM](http://www.erlang-factory.com/upload/presentations/708/HitchhikersTouroftheBEAM.pdf)

[Erlang официален сайт](http://www.erlang.org/)

[Elixir официален сайт](https://elixir-lang.org/)
